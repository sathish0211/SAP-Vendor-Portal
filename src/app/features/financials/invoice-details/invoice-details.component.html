<div class="invoice-container">

    <!-- Header -->
    <div class="page-header">
        <a routerLink="/financials" class="back-btn">
            <span class="back-icon">‚Üê</span> Back
        </a>
        <h1 class="page-title">Invoice Details</h1>
    </div>

    <!-- FILTER SECTION -->
    <div class="filter-container">

        <!-- Invoice Number Filter -->
        <div class="filter-group">
            <input 
                type="text" 
                placeholder="Search by Invoice Number"
                class="filter-input"
                [(ngModel)]="searchInvoiceNo"
                (input)="filterInvoices()"
            />
            <button class="clear-btn" (click)="clearInvoiceNo()">Clear</button>
        </div>

        <!-- Document Date Filter -->
        <div class="filter-group">
            <input 
                type="date" 
                class="filter-input"
                [(ngModel)]="searchDocumentDate"
                (change)="filterInvoices()"
            />
            <button class="clear-btn" (click)="clearDocumentDate()">Clear</button>
        </div>

    </div>

    <div *ngIf="loading" class="loading">Loading invoice details...</div>
    <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

    <div class="table-container" *ngIf="!loading && !errorMessage">
        <table class="data-table">
            <thead>
                <tr>
                    <th>Invoice No</th>
                    <th>Document Date</th>
                    <th>Posting Date</th>
                    <th>Amount</th>
                    <th>Currency</th>
                    <th>Vendor ID</th>
                    <th>Fiscal Year</th>
                    <th>PO Item</th>
                    <th>Preview</th>
                    <th>Download</th>
                </tr>
            </thead>

            <tbody>
                <tr *ngFor="let inv of filteredInvoices">
                    <td>{{ inv.invoiceNo }}</td>
                    <td>{{ inv.invoiceDate }}</td>
                    <td>{{ inv.postingDate }}</td>
                    <td>{{ inv.amount }}</td>
                    <td>{{ inv.currency }}</td>
                    <td>{{ inv.vendorId }}</td>
                    <td>{{ inv.fiscalYear }}</td>
                    <td>{{ inv.poItem }}</td>

                    <td>
                        <button class="preview-btn" (click)="previewInvoice(inv.invoiceNo)">
                            üëÅ Preview
                        </button>
                    </td>

                    <td>
                        <button class="download-btn" (click)="downloadInvoice(inv.invoiceNo)">
                            ‚¨á Download
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

</div>
